#!/usr/bin/env php
<?php

declare(strict_types=1);

namespace webignition\BasilRunner\Bin;

use Symfony\Component\Console\Application;
use webignition\BasilRunner\Services\CommandFactory;
use webignition\BasilRunner\Services\ProjectRootPathProvider;

require dirname(__DIR__) . '/vendor/autoload.php';

$projectRootPath = (new ProjectRootPathProvider())->get();
$commandFactory = new CommandFactory($projectRootPath);

$application = new Application();

$application->setName('Basil Runner');
$application->setVersion('0.1-beta');

$application->addCommands($commandFactory->createAll());
$application->run();
